name: qywx

on:
# push:
#   branches:
#     - main
    schedule:
    - cron: '15 13 * * *'  # æ¯å¤© UTC 13:30ï¼Œå³åŒ—äº¬æ—¶é—´ 21:30
    workflow_dispatch:       # æ‰‹åŠ¨è§¦å‘ä¹Ÿå¯ä»¥ç”¨

jobs:
  qywx:
    runs-on: ubuntu-latest
    steps:
      - name: main
        env:
          QYWX_WEBHOOK: ${{ secrets.QYWX_WEBHOOK }}
        run: |
            MESSAGE="@æ‰€æœ‰äºº æ™šä¸Šå¥½ğŸŒ™ï¼Œè®°å¾—åˆ°å“”å“©å“”å“©å¹³å°è¿›è¡Œç‚¹èµå’Œäº’åŠ¨å“Ÿï½ 
            \n1ï¸âƒ£ ğŸ‘‰ [ã€ğŸ“¥ tui-journal - ç”¨ Rust å®ç°çš„ Vim é£æ ¼ç»ˆç«¯ç¬”è®°å·¥å…·ï¼Œä¸“æ³¨é«˜æ•ˆæ–‡å­—å·¥ä½œæµï¼Œæ”¯æŒå¤šç§å­˜å‚¨å’Œè·¨å¹³å°æ“ä½œã€‘]
            (https://www.bilibili.com/video/BV1ZQaFz8EjZ/?share_source=copy_web&vd_source=1c09a7c3bd9abce39b9d4a556c1e4410)"
            x qywx --cfg webhook='${{ secrets.QYWX_WEBHOOK }}'
            x qywx send --text "$MESSAGE"